---
import TagList from "./TagList.astro";

interface Tag {
  label: string;
  color: string;
}

interface Props {
  title: string;
  description: string;
  href: string;
  image: string;
  alt: string;
  tags: Tag[];
}

const { title, description, href, image, alt, tags } = Astro.props;
---

<a
  href={href}
  class="block w-[260px] h-[340px] [perspective:1000px] group relative no-underline"
  aria-labelledby={`card-${title.toLowerCase()}-title`}
>
  <div
    class="relative w-full h-full transition-transform duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)]"
  >
    <!-- Cara frontal -->
    <div
      class="absolute w-full h-full bg-[#1a1a1a] rounded-2xl shadow-lg border border-[#2e2e2e] [backface-visibility:hidden] flex flex-col items-center justify-center p-6 text-center"
    >
      <div>
        <div class="w-full aspect-video mb-4">
          <img
            src={image}
            alt={alt}
            class="w-full h-full object-contain rounded-lg"
            loading="lazy"
          />
        </div>
        <h3
          id={`card-${title.toLowerCase()}-title`}
          class="text-xl font-semibold text-white mb-2"
        >
          {title}
        </h3>
        <p class="text-gray-400 text-sm">
          {description}
        </p>
      </div>

      <!-- Badge en cara frontal -->
      <div
        class="absolute -bottom-4 left-1/2 -translate-x-1/2 pointer-events-none"
      >
        <span
          class="inline-block rounded-full bg-gradient-to-r from-[#2e2e2e] to-[#2e2e2e] px-5 py-2 text-sm font-semibold text-white shadow-lg transition-all duration-300 group-hover:text-[#1a1a1a] group-hover:from-[#00ffff] group-hover:to-[#00ffff]"
        >
          Aprender más
        </span>
      </div>
    </div>

    <!-- Cara trasera -->
    <div
      class="absolute w-full h-full bg-[#1a1a1a] rounded-2xl shadow-lg border border-[#2e2e2e] [transform:rotateY(180deg)] [backface-visibility:hidden] flex flex-col items-center justify-center p-6 text-center text-white"
    >
      <TagList tags={tags} />

      <!-- Badge en cara trasera -->
      <div
        class="absolute -bottom-4 left-1/2 -translate-x-1/2 pointer-events-none"
      >
        <span
          class="inline-block rounded-full bg-gradient-to-r from-[#2e2e2e] to-[#2e2e2e] px-5 py-2 text-sm font-semibold text-white shadow-lg transition-all duration-300 group-hover:text-[#1a1a1a] group-hover:from-[#00ffff] group-hover:to-[#00bcd4]"
        >
          Aprender más
        </span>
      </div>
    </div>
  </div>
</a>
